{ MOProblem.mpl }
TITLE
MOP;
INDEX
i := 1..39
j := i;

DATA
	UeOperation := 500/1000;		!500 per km
	UgOperation := 450/1000;		!450 per km
	UpOperation := 350/1000;		!350 per km
	UeImprove := 0;
	UgImprove := 5000000/1000; 	!50 Lakh per km
	UpImprove := 20000000/1000;	!2 Crore per km
	mstNodes  := 39;
	Budget := 500000000; 		!5 

	!Total Cumulative Population Coverage = 2364073

	!MST distance matrix
	d[i,j] := (0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3241,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,59,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1159,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,26111,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6242,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,205,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,59,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,108
0,0,0,0,26111,0,0,0,56,0,0,0,0,0,0,0,0,17997,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,5056,0,0,0,0,5981,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,5056,0,79,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,79,0,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,13,0,0,0,0,0,0,0,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,17997,0,0,0,0,0,237,0,928,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,59,0,0,0,0,0,0,237,0,10146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,5981,0,0,0,0,10146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,928,0,0,0,2254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2254,0,0,0,0,0,0,6142,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4836,0,0,0,0,0,10803,0,0,0,0,0,0,0,0,0
0,0,59,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4836,0,1123,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1123,0,10051,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10051,0,1470,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,1159,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1470,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,205,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6142,0,0,0,0,0,0,3033,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3033,0,4626,7054,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10803,0,0,0,0,0,4626,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7054,0,0,302,0,0,0,0,0,0,0
0,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,302,0,9433,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9433,0,0,0,0,0,0,5812
3241,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,691,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,691,0,2650,0,0,0
0,0,0,0,0,6242,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2650,0,6757,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6757,0,1627,0
0,0,0,0,0,0,0,0,0,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1627,0,681
0,0,0,0,0,0,0,0,0,0,0,108,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5812,0,0,0,0,681,0
);

	!Population on MST links matrix
	P[i, j] := (0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13094,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14045,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14001,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13191,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,17955,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10899,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,22645,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,22969,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,31034,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,41743,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73457,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252064
0,0,0,0,17955,0,0,0,31034,0,0,0,0,0,0,0,0,48989,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,22969,0,0,0,0,22969,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,22969,0,22969,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,22969,0,22969,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,22969,0,0,0,0,0,0,0,22969,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,48989,0,0,0,0,0,50488,0,122446,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,73457,0,0,0,0,0,0,50488,0,22969,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,22969,0,0,0,0,22969,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,122446,0,0,0,122446,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,122446,0,0,0,0,0,0,122446,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27192,0,0,0,0,0,27192,0,0,0,0,0,0,0,0,0
0,0,14001,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27192,0,13191,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13191,0,13191,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13191,0,13191,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,13191,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13191,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,22645,0,0,0,0,0,0,0,0,0,0,0,0,0,0,122446,0,0,0,0,0,0,145091,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145091,0,159136,172283,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27192,0,0,0,0,0,159136,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172283,0,0,172283,0,0,0,0,0,0,0
0,14045,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172283,0,186328,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,186328,0,0,0,0,0,0,186328
13094,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13094,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13094,0,13094,0,0,0
0,0,0,0,0,10899,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13094,0,23993,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23993,0,23993,0
0,0,0,0,0,0,0,0,0,41743,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23993,0,65736
0,0,0,0,0,0,0,0,0,0,0,252064,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,186328,0,0,0,0,65736,0
);

DECISION VARIABLES
	eX[i,j] WHERE (d>0 AND i<j);
	gX[i,j] WHERE (d>0 AND i<j);
	pX[i,j] WHERE (d>0 AND i<j);

MACRO
	PopulationCoverage := SUM(i,j:eX*P WHERE (d>0 AND i<j)) + SUM(i,j: gX*P WHERE (d>0 AND i<j)) + SUM(i,j: pX*P WHERE (d>0 AND i<j));
	OperationCost := SUM(i,j: d*UeOperation*eX WHERE (d>0 AND i<j)) + SUM(i,j: d*UgOperation*gX WHERE (d>0 AND i<j)) + SUM(i,j: d*UpOperation*pX WHERE (d>0 AND i<j));
	ImprovementCost := SUM(i,j: d*UeImprove*eX WHERE (d>0 AND i<j)) + SUM(i,j: d*UgImprove*gX WHERE (d>0 AND i<j)) + SUM(i,j: d*UpImprove*pX WHERE (d>0 AND i<j));
	TotalCost := OperationCost + ImprovementCost

MODEL
	MAX PopulationCoverage
	!MIN TotalCost

SUBJECT TO
	!Constraint on assignment on all links
	cnt1: SUM(i,j: eX WHERE (d>0 AND i<j)) + SUM(i,j: gX WHERE (d>0 AND i<j)) + SUM(i,j: pX WHERE (d>0 AND i<j))>=25;

	!Constraints on assignment on each link
cnt2: eX[1,34] + gX[1,34] + pX[1,34] <=1;
cnt3: eX[2,32] + gX[2,32] + pX[2,32] <=1;
cnt4: eX[3,24] + gX[3,24] + pX[3,24] <=1;
cnt5: eX[4,27] + gX[4,27] + pX[4,27] <=1;
cnt6: eX[5,13] + gX[5,13] + pX[5,13] <=1;
cnt7: eX[6,36] + gX[6,36] + pX[6,36] <=1;
cnt8: eX[7,28] + gX[7,28] + pX[7,28] <=1;
cnt9: eX[8,17] + gX[8,17] + pX[8,17] <=1;
cnt10: eX[9,13] + gX[9,13] + pX[9,13] <=1;
cnt11: eX[10,38] + gX[10,38] + pX[10,38] <=1;
cnt12: eX[11,19] + gX[11,19] + pX[11,19] <=1;
cnt13: eX[12,39] + gX[12,39] + pX[12,39] <=1;
cnt14: eX[13,18] + gX[13,18] + pX[13,18] <=1;
cnt15: eX[14,15] + gX[14,15] + pX[14,15] <=1;
cnt16: eX[14,20] + gX[14,20] + pX[14,20] <=1;
cnt17: eX[15,16] + gX[15,16] + pX[15,16] <=1;
cnt18: eX[16,17] + gX[16,17] + pX[16,17] <=1;
cnt19: eX[18,19] + gX[18,19] + pX[18,19] <=1;
cnt20: eX[18,21] + gX[18,21] + pX[18,21] <=1;
cnt21: eX[19,20] + gX[19,20] + pX[19,20] <=1;
cnt22: eX[21,22] + gX[21,22] + pX[21,22] <=1;
cnt23: eX[22,28] + gX[22,28] + pX[22,28] <=1;
cnt24: eX[23,24] + gX[23,24] + pX[23,24] <=1;
cnt25: eX[23,30] + gX[23,30] + pX[23,30] <=1;
cnt26: eX[24,25] + gX[24,25] + pX[24,25] <=1;
cnt27: eX[25,26] + gX[25,26] + pX[25,26] <=1;
cnt28: eX[26,27] + gX[26,27] + pX[26,27] <=1;
cnt29: eX[28,29] + gX[28,29] + pX[28,29] <=1;
cnt30: eX[29,30] + gX[29,30] + pX[29,30] <=1;
cnt31: eX[29,31] + gX[29,31] + pX[29,31] <=1;
cnt32: eX[31,32] + gX[31,32] + pX[31,32] <=1;
cnt33: eX[32,33] + gX[32,33] + pX[32,33] <=1;
cnt34: eX[33,39] + gX[33,39] + pX[33,39] <=1;
cnt35: eX[34,35] + gX[34,35] + pX[34,35] <=1;
cnt36: eX[35,36] + gX[35,36] + pX[35,36] <=1;
cnt37: eX[36,37] + gX[36,37] + pX[36,37] <=1;
cnt38: eX[37,38] + gX[37,38] + pX[37,38] <=1;
cnt39: eX[38,39] + gX[38,39] + pX[38,39] <=1;



	SUM(i,j:gX WHERE (d>0 AND i<j)) >=10;
	SUM(i,j:pX WHERE (d>0 AND i<j)) >=10;

	!Budget Constraints
	TotalCost <= Budget;

	!Contraints to find alternative solutions for Multi Objective Optimization
	PopulationCoverage < 2350978;
	!TotalCost > 66014145;

BINARY
	eX[i,j] WHERE (d>0 AND i<j);
	gX[i,j] WHERE (d>0 AND i<j);
	pX[i,j] WHERE (d>0 AND i<j);